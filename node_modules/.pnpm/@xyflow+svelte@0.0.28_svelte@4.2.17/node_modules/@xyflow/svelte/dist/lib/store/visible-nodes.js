import { derived } from 'svelte/store';
import { getNodesInside } from '@xyflow/system';
export function getVisibleNodes(store) {
    return derived([store.nodes, store.onlyRenderVisibleElements, store.width, store.height, store.viewport], ([nodes, onlyRenderVisibleElements, width, height, viewport]) => {
        const transform = [viewport.x, viewport.y, viewport.zoom];
        return onlyRenderVisibleElements
            ? getNodesInside(nodes, { x: 0, y: 0, width, height }, transform, true)
            : nodes;
    });
}
